---
phase: 01-design-system-foundation
plan: 04
type: execute
wave: 3
depends_on: [01-02]
files_modified: [src/styles/globals.css]
autonomous: true

must_haves:
  truths:
    - "globals.css uses Tailwind CSS v4 @import syntax (not PostCSS)"
    - "CSS variables are defined for all design tokens using OKLCH format"
    - ":root has light mode colors, .dark has dark mode colors"
    - "@custom-variant dark is defined for Tailwind v4"
    - "@theme inline maps CSS variables to Tailwind utilities"
    - "@layer base applies base styles to body element"
    - "Color palette follows Zinc with Nova style aesthetic"
  artifacts:
    - path: "src/styles/globals.css"
      provides: "Design tokens with CSS variables and Tailwind v4 configuration"
      contains: ["@import \"tailwindcss\"", ":root", "--background", "--primary", "@theme inline", "@layer base"]
  key_links:
    - from: "src/styles/globals.css"
      to: "vite.config.ts"
      via: "Tailwind Vite plugin processes CSS imports"
      pattern: "@import.*tailwindcss"
    - from: "src/App.tsx"
      to: "src/styles/globals.css"
      via: "Import in main.tsx for global styles"
      pattern: "import.*globals.css"
---

<objective>
Create globals.css with design tokens using Tailwind CSS v4 syntax, CSS variables, OKLCH color format, and Nova/Zinc aesthetic.

Purpose: Define the visual language of the portfolio with soft modern colors (Zinc palette), support for light/dark themes, and map design tokens to Tailwind utilities. The CSS variables enable runtime theme switching without rebuild.

Output: src/styles/globals.css with @import "tailwindcss", :root color tokens (OKLCH format), .dark mode overrides, @theme inline mapping, and @layer base styles.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-design-system-foundation/01-CONTEXT.md
@.planning/phases/01-design-system-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Create src/styles directory and globals.css</name>
  <files>src/styles/globals.css</files>
  <action>
    Create src/styles/ directory if it doesn't exist, then create globals.css with the following structure:

    ```css
    @import "tailwindcss";

    @custom-variant dark (&:is(.dark *));

    :root {
      /* Design tokens - Nova style, Zinc color palette (OKLCH format) */
      --radius: 0.625rem;

      /* Light mode colors */
      --background: oklch(0.98 0.002 264.695);
      --foreground: oklch(0.15 0.015 264.695);

      --card: oklch(1 0 0);
      --card-foreground: oklch(0.15 0.015 264.695);

      --popover: oklch(1 0 0);
      --popover-foreground: oklch(0.15 0.015 264.695);

      --primary: oklch(0.25 0.016 264.695);
      --primary-foreground: oklch(0.98 0.002 264.695);

      --secondary: oklch(0.96 0.004 264.695);
      --secondary-foreground: oklch(0.25 0.016 264.695);

      --muted: oklch(0.96 0.004 264.695);
      --muted-foreground: oklch(0.50 0.020 264.695);

      --accent: oklch(0.96 0.004 264.695);
      --accent-foreground: oklch(0.25 0.016 264.695);

      --destructive: oklch(0.55 0.22 25);
      --destructive-foreground: oklch(0.98 0 0);

      --border: oklch(0.92 0.004 264.695);
      --input: oklch(0.92 0.004 264.695);
      --ring: oklch(0.70 0.020 264.695);

      /* Chart colors (optional but good for data viz) */
      --chart-1: oklch(0.65 0.24 25);
      --chart-2: oklch(0.60 0.15 250);
      --chart-3: oklch(0.55 0.12 290);
      --chart-4: oklch(0.70 0.18 180);
      --chart-5: oklch(0.60 0.20 100);
    }

    .dark {
      /* Dark mode tokens - inverted for dark background */
      --background: oklch(0.15 0.015 264.695);
      --foreground: oklch(0.98 0.002 264.695);

      --card: oklch(0.20 0.015 264.695);
      --card-foreground: oklch(0.98 0.002 264.695);

      --popover: oklch(0.20 0.015 264.695);
      --popover-foreground: oklch(0.98 0.002 264.695);

      --primary: oklch(0.92 0.004 264.695);
      --primary-foreground: oklch(0.20 0.015 264.695);

      --secondary: oklch(0.25 0.012 264.695);
      --secondary-foreground: oklch(0.98 0.002 264.695);

      --muted: oklch(0.25 0.012 264.695);
      --muted-foreground: oklch(0.65 0.020 264.695);

      --accent: oklch(0.25 0.012 264.695);
      --accent-foreground: oklch(0.98 0.002 264.695);

      --destructive: oklch(0.60 0.24 25);
      --destructive-foreground: oklch(0.98 0 0);

      --border: oklch(0.25 0.012 264.695);
      --input: oklch(0.25 0.012 264.695);
      --ring: oklch(0.55 0.020 264.695);
    }

    @theme inline {
      /* Map CSS variables to Tailwind utilities */
      --color-background: var(--background);
      --color-foreground: var(--foreground);
      --color-card: var(--card);
      --color-card-foreground: var(--card-foreground);
      --color-popover: var(--popover);
      --color-popover-foreground: var(--popover-foreground);
      --color-primary: var(--primary);
      --color-primary-foreground: var(--primary-foreground);
      --color-secondary: var(--secondary);
      --color-secondary-foreground: var(--secondary-foreground);
      --color-muted: var(--muted);
      --color-muted-foreground: var(--muted-foreground);
      --color-accent: var(--accent);
      --color-accent-foreground: var(--accent-foreground);
      --color-destructive: var(--destructive);
      --color-destructive-foreground: var(--destructive-foreground);
      --color-border: var(--border);
      --color-input: var(--input);
      --color-ring: var(--ring);
      --color-chart-1: var(--chart-1);
      --color-chart-2: var(--chart-2);
      --color-chart-3: var(--chart-3);
      --color-chart-4: var(--chart-4);
      --color-chart-5: var(--chart-5);

      /* Radius variants */
      --radius-sm: calc(var(--radius) - 4px);
      --radius-md: calc(var(--radius) - 2px);
      --radius-lg: var(--radius);
      --radius-xl: calc(var(--radius) + 4px);
    }

    @layer base {
      * {
        @apply border-border outline-ring/50;
      }
      body {
        @apply bg-background text-foreground;
        font-family: system-ui, -apple-system, sans-serif;
      }
    }
    ```

    Reference: RESEARCH.md > Pattern 5 for complete example.
    Note: This uses Tailwind CSS v4 @import syntax, NOT PostCSS.
  </action>
  <verify>grep -E '@import.*tailwindcss|:root|--background|@theme|@layer' src/styles/globals.css</verify>
  <done>globals.css exists with @import, :root tokens, @theme mapping, and @layer base</done>
</task>

<task type="auto">
  <name>Import globals.css in main.tsx</name>
  <files>src/main.tsx</files>
  <action>
    Read src/main.tsx and add import for globals.css if not present:

    ```typescript
    import "@styles/globals.css";
    ```

    Add this import at the top of the file, before the React import or right after it.
    The globals.css must be imported for Tailwind styles to be processed.
  </action>
  <verify>grep "globals.css" src/main.tsx</verify>
  <done>main.tsx imports @styles/globals.css</done>
</task>

<task type="auto">
  <name>Verify Tailwind CSS is processing</name>
  <files>src/App.tsx</files>
  <action>
    Temporarily add a Tailwind utility class to App.tsx to verify CSS is processing:

    Find the root div or main element and add `bg-background text-foreground p-4` classes.
    Example:
    ```tsx
    <div className="bg-background text-foreground p-4">
      // existing content
    </div>
    ```

    This will be verified by the build step. You can remove the test classes after verification if they're not part of the design.
  </action>
  <verify>grep -E "bg-background|text-foreground" src/App.tsx</verify>
  <done>App.tsx has at least one Tailwind utility class using design tokens</done>
</task>

</tasks>

<verification>
After all tasks complete, verify the design system CSS is working:

1. Run `npm run build` - should succeed with Tailwind processing CSS
2. Run `npm run lint` - should pass
3. Run `npm run dev` and check browser dev tools:
   - Elements should have bg-background and text-foreground applied
   - :root CSS variables should be visible in computed styles
4. Add `.dark` class to html element in browser console to verify dark mode colors take effect

If Tailwind classes aren't working, check:
- Tailwind plugin is first in vite.config.ts (from plan 01-02)
- globals.css is imported in main.tsx
- No conflicting CSS files
</verification>

<success_criteria>
1. src/styles/globals.css exists with @import "tailwindcss"
2. :root has all design token variables (background, foreground, primary, etc.)
3. .dark has dark mode overrides
4. @theme inline maps all CSS variables to Tailwind utilities
5. @layer base applies base styles
6. main.tsx imports globals.css
7. npm run build succeeds and Tailwind classes are applied
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-system-foundation/01-04-SUMMARY.md` with:
- Design tokens defined (Nova style, Zinc palette)
- Tailwind v4 configuration confirmed working
- Dark mode CSS variables ready
- Next step (create ThemeProvider for runtime theme switching)
</output>

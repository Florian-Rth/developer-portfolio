---
phase: 01-design-system-foundation
plan: 03
type: execute
wave: 2
depends_on: [01-01]
files_modified: [tsconfig.app.json]
autonomous: true

must_haves:
  truths:
    - "TypeScript baseUrl is set to project root (.)"
    - "TypeScript paths include all category-based aliases"
    - "TypeScript paths match Vite aliases exactly (Pitfall 2 from RESEARCH.md)"
    - "TypeScript compilation succeeds with new path aliases"
  artifacts:
    - path: "tsconfig.app.json"
      provides: "TypeScript path alias configuration"
      contains: ["baseUrl", "paths", "@components/*", "@lib/*"]
  key_links:
    - from: "tsconfig.app.json"
      to: "vite.config.ts"
      via: "Synchronized alias configuration"
      pattern: "paths.*@components.*resolve.*alias.*@components"
---

<objective>
Configure TypeScript path aliases to match Vite configuration.

Purpose: Enable TypeScript to recognize the same category-based aliases that Vite uses, preventing "Cannot find module" errors in the IDE while builds work (or vice versa - Pitfall 2 from RESEARCH.md). Both configs MUST stay in sync.

Output: Updated tsconfig.app.json with baseUrl and paths matching vite.config.ts aliases.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-design-system-foundation/01-CONTEXT.md
@.planning/phases/01-design-system-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Add baseUrl to tsconfig.app.json</name>
  <files>tsconfig.app.json</files>
  <action>
    Add "baseUrl": "." to compilerOptions in tsconfig.app.json.

    The baseUrl must be set for path mappings to work. Add it after "moduleDetection" or before "noEmit":

    ```json
    "baseUrl": ".",
    ```

    Reference: RESEARCH.md > Pattern 4.
  </action>
  <verify>grep '"baseUrl".*"\."' tsconfig.app.json</verify>
  <done>baseUrl is set to "." in compilerOptions</done>
</task>

<task type="auto">
  <name>Add category-based paths to tsconfig.app.json</name>
  <files>tsconfig.app.json</files>
  <action>
    Add "paths" object to compilerOptions in tsconfig.app.json with all category-based aliases.

    These MUST match the aliases in vite.config.ts exactly (Pitfall 2):

    ```json
    "paths": {
      "@/*": ["./src/*"],
      "@components/*": ["./src/components/*"],
      "@lib/*": ["./src/lib/*"],
      "@utils/*": ["./src/utils/*"],
      "@hooks/*": ["./src/hooks/*"],
      "@features/*": ["./src/features/*"],
      "@layouts/*": ["./src/layouts/*"],
      "@types/*": ["./src/types/*"],
      "@constants/*": ["./src/constants/*"]
    }
    ```

    Add the paths object after the baseUrl you just added.
  </action>
  <verify>grep -E "@components|@lib|@utils" tsconfig.app.json</verify>
  <done>All category-based path aliases are configured</done>
</task>

<task type="auto">
  <name>Verify TypeScript-Vite alias synchronization</name>
  <files>tsconfig.app.json, vite.config.ts</files>
  <action>
    Read both tsconfig.app.json and vite.config.ts and verify:
    1. All aliases in vite.config.ts resolve.alias have corresponding entries in tsconfig.app.json paths
    2. Both use the same alias names (@components, @lib, etc.)
    3. Both point to the same source directories

    If there's a mismatch, edit tsconfig.app.json to match vite.config.ts exactly.
    Vite is the source of truth - TypeScript must follow.
  </action>
  <verify>
    # Count aliases in both files - should match
    VITE_ALIASES=$(grep -oE "@(components|lib|utils|hooks|features|layouts|types|constants)" vite.config.ts | wc -l)
    TS_ALIASES=$(grep -oE "@(components|lib|utils|hooks|features|layouts|types|constants)" tsconfig.app.json | wc -l)
    [ "$VITE_ALIASES" -eq "$TS_ALIASES" ] && echo "Aliases synchronized"
  </verify>
  <done>TypeScript and Vite have matching path alias configurations</done>
</task>

</tasks>

<verification>
After all tasks complete, verify TypeScript configuration:

1. Run `npm run build` - should succeed with no "Cannot find module" errors
2. Run `npm run lint` - should pass
3. Create a test file to verify alias works: `echo "import { cn } from '@lib/utils';" > /tmp/test-alias.ts && npx tsc --noEmit /tmp/test-alias.ts && rm /tmp/test-alias.ts`
4. Verify IDE (if available) recognizes aliases - no red squigglies on @ imports

If TypeScript complains about path aliases, double-check baseUrl is set to "." and paths array is correctly formatted.
</verification>

<success_criteria>
1. tsconfig.app.json has baseUrl set to "."
2. tsconfig.app.json has paths object with all category-based aliases
3. All aliases match vite.config.ts exactly
4. npm run build succeeds without "Cannot find module" errors
5. Test import using @lib/utils resolves correctly
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-system-foundation/01-03-SUMMARY.md` with:
- TypeScript configuration changes made
- Confirmation that Vite and TS aliases are synchronized
- Ready for next plan (create globals.css with design tokens)
</output>
